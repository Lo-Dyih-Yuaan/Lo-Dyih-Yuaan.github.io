<!DOCTYPE html>
<html>
<head> 
<meta charset="utf-8">
<title>像素板</title>
<script src="PixelCanvas.js"></script>
</head>
<body>
<div style="display: grid; grid-template-columns: repeat(8, 1fr);">
	<button id="color-A" style="display: inline; text-align: center;">A</button>
	<button id="color-B" style="display: inline; text-align: center;">B</button>
	<button id="color-C" style="display: inline; text-align: center;">C</button>
	<button id="color-D" style="display: inline; text-align: center;">D</button>
	<button id="color-E" style="display: inline; text-align: center;">E</button>
	<button id="color-F" style="display: inline; text-align: center;">F</button>
	<button id="color-G" style="display: inline; text-align: center;">G</button>
	<button id="color-Z" style="display: inline; text-align: center;">清除</button>
</div>
<div id="patterns"></div>
<hr/>
<canvas id="canvas">您的浏览器不支持canvas。</canvas>
<script>
	let canvas = document.getElementById("canvas");
	let pixelColors = {
		'A': "#312829",
		'B': "#FFFFFF",
		'C': "#FFD373",
		'D': "#73FFAD",
		'E': "#7382FF",
		'F': "#F7695A",
		'G': "#FFD7C6",
		'Z': "#B5AEA5"
	};
	let patterns = [
		"FCFFFCCFFFFCFFBAEEEEAAAAAAAAAAAAAAZEEAFCFFFFFFFCFBBAZAAEAAAAAAAAAAAAABBBZEZAFAAAAAAAFBAAZZZZZAAAAAAAAAAAAABBCBZZZAACCBBCCAAZZZZZZAAAAAZAZCACAABBCCBBZZZZAAAAAAZZZZZZZZAZAAAAAAAAAAABBBBBBZZZAAAZAZZZZZZZZZZAAAZAAAAAAAZAAABBEAZZAGGAAAAZZZZZZZZZAAAZAAAAAAAGZAZAEFFZAGGACBBCAZZZZZZZZAAZGGGGGGGGGGAAAAFAZAAAAAAAAAAAZZZZZZAAAAAAGGGGAAAAGAAFAAFBCFFBCFBCBAZZZZZAAGAAAGGGGGAAAGAAFFFFCFFFFFCFFCBAZZZAZAGAABGGGGGAABGAGAFFCFFFFFFFCFFCBAZZAZAGAAAGGGGGAAAGGGCFFCFFFFFFFCFFFCBAAAAGGGGGGGGGGGGGGGGCAFCFFFCFFFCFFFCABAAAGGGGGGGGGGGGGGAAFACFFFCFCFFFCFFCABBBAAGGGGGGAGGGGGAAAFECFFFFCFFFFCFFFCABBBZAAGGGGGGGGAAAAAAECFFFCCCFFFCFFFCABBBBZAAAAEEZEEAAAAAAECFCFFCFFCFCFFFCABBBBCBGABCEECCZAAAAAECFFCFCFCFFCFFFCAZBBCBGABBEECBBEZZAAAACZFFCCCFFFCZFFCAAZZCGGBEEGGECBBEGGAAAZCZFFFFFFCZFFFAZZAAAAABCEEECBBBEGGBAZZCZFFFFFFCZFAAZZZZZAAABBCCCBBBBABBZAZ",
		"ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZAACCBZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZACCBZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZAAACCBBZZZZZZZZZZZZZZZZZZZZZZZZZZZZAACCCCCCCBZZZZZZZZZBZZZZZZZZZZZZZZZZACCCCCCCCCCBZZZZZZZZZCZZZZZZZZZZZZZZACCCCCCCCCCCCBZZZZZZZZBZZZZBZZZZZZZZACCCCACCCCCCCACBZZZZBZZZCZZCZZZZZZZZZACCCCCACCCCCACCBZZZZZCZZZZZBZZZZZZZZACCCCCCCACCCACCCCBZZZZZBCZZBZZZZZZZZACCCCCCAACCCCCAACCBZZZZZZZZCZZZZZZZZACCCCCZZCCCCFFCCCZCBZZZZZZZCZZZZZZZZACCCCCCCCCCCCCCCCCCCAZZZAZBBBBZZZZZZZAAACCCCCCCCCCCCCCCCCCAAAZZFFFFAZZZZZZZZACCCCCCCCCCCCCCCCCCCAZZZFCCCAZZZZZZZZACCCCCCCCCCCCCCCCCAAZZZZFFFFAZZZZZZZZACCCCCCCCCCCCCCCCCAZZZZZFFFFAZZZZZZZZACCCCCCCCCCCCCCCCAZZZZZFFFFFAZZZZZZZZACCCCCCCCCCCCCCCCAZZZZZFFFFFAZZZZZZZZZACCCCCCCCCCCCCCCAZZZZZFFFFAZZZZZZZZZZACCCCCCCCCCCCCCAZZZZZZFFFFAZZZZZZZZZZZACCCCCCCCCCCCAZZZZZZZFCCCAZZZZZZ",
		"ZZZZZZZZZZZZZZZZZZZZZAAZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZAAAAAAAZZZZZZZZZZZAAAAAAZZZZZZZZZBBAABBBBBAAAABBAZZAAAAFFFCFCAZZZZZZZBCCABAAAAABBAACCCAZFFFFFFFCFCAZZZZZAACCAAAAAAAAAAAAACCAAFFFFFFAAAAAZZZZAAACAAAACACACAAAAAACZAAAAAAAZCAZZZZZAAAZAAAAAAACACAAAAAAAAZZZZZZZFCAZZZZAAZZZACAAGAAAAAAAAACAAAZFFFFFFFCAZZZAZZZZZACAAGGAAAAAGAACAAAZFFFFAFFFCAZZAZZZZZAAAAAAAAAAAAGAAAAAZFAFAAAFFCAZZZAZZZAAAAAAFGGGGAFGAAAAAZFAFFZAFFCAZZZAZAAZAAAGFBGGGGFBGGAAAZAAAZAAAAFCAZZZZAZZZAAAGFFGGGGFFGGAAAZAFAFFAZFFCAZZZZZZZZAAAGGGGGGGGGGGAAAZZFAFAFAAFCAZAZZZZZZZAAAGGGGFGGGGAAAZZZFFFFFFFFFCAGAZZAAAAAGGGGGGGGGGGGAZZZZFFFZAAAFFCAGGAABBBBBAAZZZACCAAZZZZZZZFFFAFAFFFCAGGAAABBBBBBAAAEAAAAAAZZZZZFFFAAAAFFCAAGAAAZBBBBBBEEEEEEEBBAZZZZCFFFFAFFFCAZAAAAAZZZZZZBCCCCGCCBBAAZZCFAAFAFAFCAZZAAAAAAAAAAEEBBBCBBZBBBAACFFFFFFFFCAZZZZZZZZZZZZAEZBBBBZEABBBB",
		"ZZZZZZZZZZZZZZAAZZZZZZZZZZZZZZZZZZZZZZZZZZZZAAAAAAAZZZZZZZZZZZZZZZZZZZZZZZZZABBAAAABBBBBAABBZZZZZZZZZAAAAAAZZZZZACCCAABBAAAAABACCBZZZZZZZACFCFFFAAAAAACCAAAAAAAAAAAAACCAAZZZZZACFCFFFFFFFAZCAAAZAZFAFAFAAACCAAAZZZZAAAAAFFFFFFZAAAZAZZZFAFAAAAAACZAAAZZZZZACZAAAAAAZAAABZZAAAAAAAGAAFAZZZAAZZZZACFZZZZZZZAAABAAGAAAAAGGAAFAZZZZZAZZZACFFFFFFFZAAAAAGAAAAAAAAAAAAZZZZZAZZACFFFFFFFFZAAAAAGAFGGGGAFAAAAAZZZAZZZACFFAFFZAAZAAAAGGFBGGGGFBGAAAZAAZAZZZACFAAAFAFFZZAAAGGFFGGGGFFGAAAZZZAZZZZACFZAZFAAAAZAAAGGGGGGGGGGGAAAZZZZZZZZACFAAAFAZAAZZAAAGGGGFGGGGAAAZZZZZZZAZACFAAAFAFAAZZZAGGGGGGGGGGGGAAAAAZZAGACFFFAFFFFAZAZZZZZAACCAZZZAABBBBBAAGGACFFFFFAFFFZAZZZAAAAAAFAAABBBBBBAAAGGACFFFAAAAAFZZZZABBCCECCFFBBBBBBZAAAGAACFFFZAAZFFZZAABBAAGAAACBZZZZZZACACAZACFFAAAAAACAABBBZCAACCCFFAAAAAAAAAAZZACFFFAAAAFCBBBBZFFCCFFFFAZZZZZZZZZZZZACFFAAZZAAC",
		"ZZZZAFFFAZZADDDBAZZDZZADDBAZZZZZZZZZZZZZZZAFAZZZADDBAAADAAADDDBAZZZZZZZZZZZZAZZZAZZAADDDDDDDDDADDDDBAZZZZZZZAZZZAFAZZZZABBADDDDDBDDBDDBDBAZZZZZZAFAZAFCAZZZZZAADDDBDDBBDDBDBBBDAZZZZACFFAFFCFAZZZABADDDDDDDDDDDDDBBBAZZZZAFCFFFCFFFAZZAADDDZZDDDDZDDDDDBDAZZZAFFFCCCFFFFAZZADDDAAAGDDDAAAADDDDAZZZAFFFFFFFCFFFAZADADZZZGGDDZZZGDDDDAZZZAFFCFFFCFCFFAADDAZCZBGGGDCZBGDDDDAZZAFFCFCFFFCFFAAADDAGCCCGGGGCCCGDDDDAZAAFFFCFFFFFFACCCAAFGGGGGGGGGGGFFDDDDABCAFFFFFAFFACCCABAGGGGGGGGGGGGGDDDDABCCCAFFFFZAFACCCABAGGGGGAAGGGGGGADAABACCCAAFFAZZAACCCCBBAAGGGGGGGGGGADAZBBACCCADAAZZZZACCCABBBZAAAAAAAAAAZAZBBBCCCCADAZZZZZACCAABBBBZABFCCFABABBBBBBACCCADAZZZZZACCAABBBBBBAFFGFBAZBBBBBBAACCCAAZZZZZZACACCZBBBBABGGAAZBBBBZZZZACCCAZZZZZZZZAAAAAZZBBBAAAABBBBZZAAAAAAAAZZZAZZZZZZZZADAAZBBBABBBBBBAADDDAZZZZZZAFZZZZZZZZADDAZBABBBABBBZADDDDAZZZZZAFF",
		"ZZZZAAAAFBBBAZZZZAFFFFBFAAZZZZZZZZZZZZZZAFFFFFFBBBAZZAEBBFFBFBBAZZZZZZZZZZZZZAFFFFBBBFFBAZAEFFBBFFBFBAZZZZZZZZZZZAFFBBBFFBFFFBAZAEFFFBBFBBAZZAAZZZZZZZABBFFFFFBFFBAZZAEFFFBFBBBAZAFFAAZZZZAEEFBFFFBFFBAZZZZAEFBFFFBAZAFFCFFAAZZZAAEFBFFBFBAZZZZZAEFBFFBAAAAAACFFFFAZZZZAEFBFFBAZZZZAAAAEFBBAFFFABBAZFFFFZAAAAAEFFBAZZZZZZAAAABAAFFABBBBBAZFFFAAAAAAAEFAZZZZZZZZAFFAFFABBBBBBFFAZFFZZAAAAAAAZZZZZAAAAAFFFABBBBBBFFFFFACFZZZZZZZZZZZZAAFFFAFFAABBBBBBFFFFFFFACZZZZZZZZZZZACFFFFAAABBBBBBFFFFFFFFFFAZZZZZZZZZZZAZCFFAABBBBBBFFFFCCFFFFFFFZZZZZZZZZZZAZFCCABBBBBFFFFFCFFCFFFFFFZZZZZZZZZZZAZFFFABBBBFFFFFFCCFCFFFCFFZZZZZZZZAAAAZFFFFABFFFFFFFFFCCCCFCFFCZZZZAAAAAAAAZFFFFCAZFFFFFFFFFFFCCFFCCZZZAAAAAAAAAAZFFFCFAZFFFFFFFFFCFCFFFCZZZZAAAAAAAAAZFFFFCCAZFFFFFFFCFFFCFFCZZZZZZAAAAAAAZFFFFFCFAZFFFFFFFFCFFCFCZZZZZZZAAAAAAZFFCCCCCCAZFFFFFCCCCCCCC",
		"ZZZZZZZZZACAFEEAACCCAAZZAAZAAZZZZZZZZZZZZZZZZAAAEEBBBAAAAZZZACCACCAZAZZZZZZZZZZZZZAAAFBBAABAAAAZAAACAAACACAZZZZZZZZZZZAAAAFBBAABAAAAAFFCFFFFFAACAAZZZAAAAZZAAZFFABBBAAFBCFBFBFBBCBFFAACAAAFFFZAAZZFFFFAAAFFBFFCFCFFFFCFFBCFACCAFFFFFFFFFFFFFFFFBAEEBCFCFFCFCFCFFCAAZAFFFDFDFDFDFFFFFAEEBFCFCFCFFFCFFBFFAZAFDDBDBDBDBDDFFAABBFCFFFCFFFCFFFCFCFZZAABABABABABADFFFAEEBFFFCFFFCFFAAFBFZZZAAAAAAAAAAADFFAEEBAFAAAAAAAFACCAFBZZZZAZAZAZAAADFFAAEBAAAACCCCCAACCCAZFZZZZZZZZZAABBFFFFAAACCACCCCCACCCCAFFZZZZZZZZAABBAFFFFAACCCCACCCCCACCCCAZZFZZZZZAABBAFFFFFZAACCCZCCFFCCCCZCCAFFZZZZAABBAFFFFFFZAACCCCCCCCCCCCCCCCAFZFZZZAFFFFFFFFFZAAACCCCCCCCCCCCCCCCAFFAZZZAAFFFFFFFZAAAACCCCCCCCCCCCCCCCAAAAZZZZZACCFFZAAAAAACCCCCCCCCCCCCCCCAAAAZZZZZZAACZAAAZZACCCCCCCCCCCCCCCCCAAAAZZZZZZZAAAZZZZZACCCCCCCCCCCCCCCCCAAAZZZZZZZZZZZZZZZZACCCCCCCCCCCCCCCCCAAZZ",
		"ZAZFAAZZZZZZZZZZAZFFFFAZZZAZFFAZZZZZZAZFFFCAZZAAAAAAAAAZFFFFAAAAAAFFAZZZZZAZFCCBAAAZFFFFFCCFAZFFFFFACAAAFFAZZZZZACBBFFFFFCFFFCFFAFFFFFFFFACCAFAAZZZZACBFCCFFCCFCCCFFAFFBBBFFFFFAAFFBAZZZZAFFFFFCCFFFFFFFCAFBABBBBBFFFBBBBBAZZZACCFFFFFFCFFFFCFABBAAAAAAAFECCBAAAZZZFFFCFFFCCFCFFCFAFCCCABCABAFEECCBCBAZZFFFFCCCFFFFCCFFAFFCCABCCCAFFEEEBCCAZZAFFAAFFFFFFFAFFAFFFFCABBAEFFFFFABAAZZAAACCAZAAAAAAFFFAFFFFCAAEFFFFFFEACAZZAAACCCAACCCCAFFFFAFFFFEEFFFFACAFEAZZZAAAACCCCACCCAFFFFCAFFFFFFFFCCCCFFFAZZAAAACCCCACCCCAFCCCFAFFFFFBBAAABFFFAZZAAAACCCZCCCFFACFFCFABFFBBAABBBABFFAAZAAAACCCCCCCCCCACFFCCABBAABBCCCBABBAAZAAAACCCCCCCCCCAFCCCFABACCCCCCCCCABAAAZAAACCCCCCCCCCACFFCFFAFFBBBBBBBBFAAAAZAAACCCCCCCCCCAFCFFBBAAAFFFFFFFFAAAAAZZAACCCCCCCCCCCAFFBAAAZZAAAAAAAAAAAAZZZAACCCCCCCCCCCABBAACAZZZZZZZZZZAAAZZZZZACCCCCCCCCCCCAAACCAZZZZZZZZZZZZZZZ"
	]
	pixelCanvas = new PixelCanvas(canvas, 37, 22, pixelColors, 'Z');
	pixelCanvas.canvas.onclick = function (event) {
		let pixelSize = pixelCanvas.pixelSize;
		let borderSize = pixelCanvas.borderSize;
		let elementSize = pixelSize + borderSize;
		let x = event.pageX - canvas.offsetLeft;
		let y = event.pageY - canvas.offsetTop;
		let j = parseInt(x/elementSize);
		let i = parseInt(y/elementSize);
		if (x%elementSize >= borderSize && y%elementSize >= borderSize)
			pixelCanvas.daub(i, j);
	};
	for (let c of "ABCDEFGZ") {
		let color = document.getElementById(`color-${c}`);
		color.style.background = `linear-gradient(to right, ${pixelColors[c]}, white, ${pixelColors[c]})`;
		color.onclick = function () {
			pixelCanvas.fillColor = c;
		};
	}
	let patternsButton = document.getElementById("patterns");
	patternsButton.style.display='grid';
	patternsButton.style.gridTemplateColumns = 'repeat(9, 1fr)';
	for (let p of [1,2,3,4,5,6,7,8].map(n => [n,patterns[n-1]]).concat([["清空","Z"]])) {
		let button = document.createElement('button');
		button.textContent = p[0];
		button.onclick = function() {
			pixelCanvas.paint(p[1]);
		};
		patternsButton.appendChild(button);
	}
</script>
</body>
</html>
